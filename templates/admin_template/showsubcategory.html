{% extends 'admin_template/index.html' %}
{% load static %}
{% block title %} Subcategory page {% endblock title %}

{% block body %}
  <h1>Products Names</h1>
  <div class="mb-4">
    <a class="btn btn-primary" href="{% url 'addsubcategory' all_sub.id %}">Add Subcategory</a>
  </div>
<div class="table-responsive-md">
  <table id="example" class="table table-striped table-bordered" style="width:100%">
    <thead class="thead-dark">
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Subcategory Name</th>
        <th scope="col">Description</th>
        <th scope="col">Subcategory Image</th>
        <th scope="col">Created By</th>
        <th scope="col">Created Date</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      {% if all_sub %}
      {% for data in all_sub.Subcategory.all %}
      <tr>
        <th scope="row">{{ data.id }}</th>
        <td><a href="{% url 'products' data.id %}"> {{ data.product_name }}</a></td>
        <td>{{ data.product_desc }}</td>

        {% if data.product_image %}
        <td><img src="{{data.product_image.url }}" class="img-fluid" style="height: 65px"  /></td>
        {% else %}
        <td>---</td>
        {% endif %}
        <td>{{ data.created_by }}</td>
        <td>{{ data.created_at }}</td>
        <td>
          <a href="{% url 'edit_subcat' data.id %}">Edit</a>
          <a href="{% url 'delete_subcategory' data.id %}">Delete</a>
        </td>
      </tr>
        {% endfor %}
      {% else %}
        <tr><td colspan="6" style="text-align: center;">Not found</td></tr>
      {% endif %}
    </tbody>
  </table>
</div>
{% endblock body %}